{% extends "base.html" %} 

{# this could mirror the titles of yahoo, google and bing more closely, if we want. #}
{% block title %} CourtListener.com / Results / {{ query }} / Page / {{ results.number }}{% endblock %}

{% block content %}
    <div class="span-18 colborder">

        <h2>{{queryType|title}} results
            {% if results.object_list %}
                , page {{results.number }} of {{ results.paginator.num_pages }}
            {% endif %}</h2>

        {% if form.errors %}
            {# there is only one possible error #}
            <div class="span-8">
                <div class="error">
                    <p class="bottom">Please be sure to make a query</p>
                </div>
            </div>
            <div class="span-10 last">&nbsp;</div>
        {% endif %}
        <div class="span-17">
            <form action="" method="get">
                <input class="title" name="q" id="search" value="{{query}}">&nbsp;&nbsp;
                {% if queryType == "search" %}
                    <button type="submit" class="button title" name="search">Search again</button>
                {% endif %}
                {% if queryType == "alert" %}
                    <button type="submit" class="button title" name="alert">Refine alert</button>
                {% endif %}
            </form>
            <a href="/search/advanced-techniques/" class="bottom">Advanced</a><p></p>
        </div>
        
        {% if not results.object_list %}
            <h3 class="alt">Your {{ queryType }} yielded no results.</h3>
            <ul>
                <li>Check if your spelling is correct</li>
                <li>Loosen your boolean construction</li>
                <li>Remove quotes where possible</li>
            </ul>
        {% endif %}
            
        {% for result in results.object_list %}
            <h3 class="alt bottom"><a href="{{result.get_absolute_url}}">{{ result.citation.caseNameShort }}, {{result.citation.caseNumber}}</a></h3>
            <p> {{result.dateFiled|date:"l, F jS, Y"}}<br>
                {# Print the whether the document is precedential #}
                {% ifequal result.documentType "U" %}
                    <strong>Status:</strong> Non-precedential/Unpublished.<br>
                {% endifequal %}
                {% ifequal result.documentType "P" %}
                    <strong>Status:</strong> Precedential/Published.<br>
                {% endifequal %}            

                <strong>Download:</strong> <a href="http://courtlistener.com/{{result.local_path}}">From our server</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="{{ result.download_URL }}">From the court</a></p><br>
        {% endfor %}
        
        <h3>
            {% if results.object_list %}
                {% if results.has_previous %}
                        <a href="?page=1&q={{query}}&{{queryType}}="">« first</a>&nbsp;&nbsp;
                        <a href="?page={{ results.previous_page_number }}&q={{query}}&{{queryType}}="">‹ previous</a>&nbsp;&nbsp;
                {% endif %}
                Page {{ results.number }} of {{ results.paginator.num_pages }}</p>
                {% if results.has_next %}
                        &nbsp;&nbsp;<a href="?page={{ results.next_page_number }}&q={{query}}&{{queryType}}=">next ›</a>
                        &nbsp;&nbsp;<a href="?page={{ results.paginator.num_pages }}&q={{query}}&{{queryType}}=">last »</a>
                {% endif %}
            {% endif %}
        </h3>
    </div>
{% endblock %}

<!--{% block sidebared %}-->
<!--    <div class="span-5 last" id="sidebar">-->
<!--        <h3>Browse other courts</h3>-->
<!--        <p>-->
<!--            <a href="/opinions/all/">All opinions</a><br>-->
<!--            <a href="/opinions/ca1/">First circuit</a><br>-->
<!--            <a href="/opinions/ca2/">Second circuit</a><br>-->
<!--            <a href="/opinions/ca3/">Third circuit</a><br>-->
<!--            <a href="/opinions/ca4/">Fourth circuit</a><br>-->
<!--            <a href="/opinions/ca5/">Fifth circuit</a><br>-->
<!--            <a href="/opinions/ca6/">Sixth circuit</a><br>-->
<!--            <a href="/opinions/ca7/">Seventh circuit</a><br>-->
<!--            <a href="/opinions/ca8/">Eighth circuit</a><br>-->
<!--            <a href="/opinions/ca9/">Ninth circuit</a><br>-->
<!--            <a href="/opinions/ca10/">Tenth circuit</a><br>-->
<!--            <a href="/opinions/ca11/">Eleventh circuit</a><br>-->
<!--            <a href="/opinions/cadc/">D.C. circuit</a><br>-->
<!--            <a href="/opinions/cafc/">Federal circuit</a>-->
<!--        </p>-->
<!--    </div>-->
<!--{% endblock %}-->


<!--{% block contented %}-->
<!--    <div class="span-18 colborder" id="content">-->
<!--        <h2>CourtListener.com / Results</h2>-->
<!--        -->
<!--        {% if form.errors %}-->
<!--            <div class="span-18">-->
<!--                <div class="span-10 error">-->
<!--                    <p class="bottom">There were errors with your submission.</p>-->
<!--                </div>-->
<!--                <div class="span-7 last">&nbsp;</div>-->
<!--            </div>-->
<!--        {% endif %}-->

<!--        <form action"" method="post">{% csrf_token %}-->
<!--            <p>-->
<!--                <label for="id_name">Name</label>-->
<!--                {% if form.name.errors %}-->
<!--                    <span class="errortext">-->
<!--                        {% for error in form.name.errors %}-->
<!--                            {{ error|escape }}  -->
<!--                        {% endfor %}-->
<!--                    </span>-->
<!--                {% endif %}<br>-->
<!--                {{ form.name }}-->
<!--            </p>-->
<!--            -->
<!--            -->
<!--            <p>-->
<!--                <label for="id_email">Email (optional)</label>-->
<!--                {% if form.email.errors %}-->
<!--                    <span class="errortext">-->
<!--                        {% for error in form.email.errors %}-->
<!--                            {{ error|escape }}-->
<!--                        {% endfor %}-->
<!--                    </span>-->
<!--                {% endif %}<br>-->
<!--                {{ form.email }}-->
<!--            </p>-->
<!--            -->
<!--            -->
<!--            <p>-->
<!--                <label for="id_subject">Subject</label>-->
<!--                {% if form.subject.errors %}-->
<!--                    <span class="errortext">-->
<!--                        {% for error in form.subject.errors %}-->
<!--                            {{ error|escape }}-->
<!--                        {% endfor %}-->
<!--                    </span>-->
<!--                {% endif %}<br>-->
<!--                {{ form.subject }}-->
<!--            </p>-->
<!--            -->
<!--            -->
<!--            <p>-->
<!--                <label for="id_message">Message</label>-->
<!--                {% if form.message.errors %}-->
<!--                    <span class="errortext">-->
<!--                        {% for error in form.message.errors %}-->
<!--                            {{ error|escape }}-->
<!--                        {% endfor %}-->
<!--                    </span>-->
<!--                {% endif %}<br>-->
<!--                {{ form.message }}-->
<!--            </p>-->
<!--          <button type="submit" class="button">Send message</button>-->
<!--        </form>-->
<!--    </div>-->
<!--{% endblock %}-->

{% if queryType == "alert" %}
    {% block sidebar %}
        {# the form that will appear if somebody clicked "create alert" rather than "search". #}
        
        
    {% endblock %}
{% endif %}
