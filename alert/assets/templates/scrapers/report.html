<!DOCTYPE html>
<html style="font-size: 100.01%; font-weight: inherit; font-family: inherit; border: 0; vertical-align: baseline; font-style: inherit; margin: 0; padding: 0;">
    <head>
        <meta charset="utf-8">
    </head>
    <body style="font-size: 75%;
                 font-weight: inherit;
                 line-height: 1.5;
                 font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif;
                 color: #222;
                 vertical-align: baseline;
                 font-style: inherit;
                 background: #fff;
                 margin: 0;
                 padding: 0;">
        <h1 style="font-size: 2em;
                   font-weight: normal;
                   line-height: 1;
                   font-family: inherit;
                   color: #111;
                   vertical-align: baseline;
                   font-style: inherit;
                   margin: 10px;
                   padding: 0;">CourtListener Scraper Status Email</h1>

        <h2 style="font-size: 1.5em;
                   font-weight: normal;
                   line-height: 1;
                   font-family: inherit;
                   color: #111;
                   vertical-align: baseline;
                   font-style: inherit;
                   margin: 10px;
                   padding: 0;">Error Counts</h2>

        {% if critical_today %}
            <p style="font-size: 1em;
                      font-weight: normal;
                      font-family: inherit;
                      vertical-align: baseline;
                      font-style: inherit;
                      margin: 0 0 1.5em;
                      padding: 0;">More than 10 critical in a court today. This is a critical problem.</p>
        {% endif %}

        <table style="text-align: center;">
            <thead>
            <tr>
                <th style="padding-right: 10px;
                               text-align: left;">Court</th>
                <th style="padding-right: 10px;">Critical count</th>
                <th style="padding-right: 10px;">Warning count</th>
            </tr>
            </thead>
            <tbody>
            {% for court, values in errors.items %}
                <tr>
                    <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;
                                   text-align: left;"><p>{{ court }}</p></td>
                    <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;"><p>{{ values.0 }}</p></td>
                    <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;"><p>{{ values.1 }}</p></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>


        <h2 style="font-size: 1.5em;
                   font-weight: normal;
                   line-height: 1;
                   font-family: inherit;
                   color: #111;
                   vertical-align: baseline;
                   font-style: inherit;
                   margin: 10px;
                   padding: 0;">Result Counts</h2>

        {% if critical_history %}
            <p style="font-size: 1em;
                      font-weight: normal;
                      font-family: inherit;
                      vertical-align: baseline;
                      font-style: inherit;
                      margin: 0 0 1.5em;
                      padding: 0;">A court has 0 results for the past seven days and more than 10 for the past 30. This is a critical problem.</p>
        {% endif %}

        <table style="text-align: center;">
            <thead>
                <tr>
                    <th style="padding-right: 10px;
                               text-align: left;">Court</th>
                    <th style="padding-right: 10px;">30 day count</th>
                    <th style="padding-right: 10px;">7 day count</th>
                    <th style="padding-right: 10px;">Today's count</th>
                </tr>
            </thead>
            <tbody>
                {% for court, values in averages.items %}
                    <tr>
                        <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;
                                   text-align: left;"><p>{{ court }}</p></td>
                        <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;"><p>{{ values.0 }}</p></td>
                        <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;"><p>{{ values.1 }}</p></td>
                        <td style="border-color: gray;
                                   border-style: dotted;
                                   border-width: 0 0 1px;"><p>{{ values.2 }}</p></td>
                    </tr>
                {% endfor %}
                <tr>
                    {% for total in totals %}
                        <td>{{ total }} </td>
                    {% endfor %}
                </tr>
            </tbody>
        </table>
    </body>
</html>
